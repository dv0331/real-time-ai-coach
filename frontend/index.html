<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≠ Scivora - Perfect Every Performance</title>
    <link rel="stylesheet" href="/static/styles.css?v=4">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Sans+3:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header with Branding -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üé≠</span>
                <div class="logo-text">
                    <h1>Scivora</h1>
                    <span class="tagline">Perfect Every Performance</span>
                </div>
            </div>
            
            <!-- Main Navigation Tabs -->
            <nav class="main-tabs">
                <button class="tab-btn active" data-tab="realtime">
                    <span class="tab-icon">‚ö°</span>
                    <span class="tab-name">Real-Time</span>
                </button>
                <button class="tab-btn" data-tab="selftape">
                    <span class="tab-icon">üìπ</span>
                    <span class="tab-name">Self-Tape</span>
                </button>
                <button class="tab-btn" data-tab="history">
                    <span class="tab-icon">üìä</span>
                    <span class="tab-name">Sessions</span>
                </button>
                <button class="tab-btn" data-tab="coaches">
                    <span class="tab-icon">üèÜ</span>
                    <span class="tab-name">Coaches</span>
                </button>
            </nav>
            
            <div class="header-right">
                <div class="session-timer" id="sessionTimer">00:00</div>
                <div class="status-badge" id="statusBadge">
                    <span class="status-dot"></span>
                    <span class="status-text">Connecting...</span>
                </div>
            </div>
        </header>

        <!-- ================================================================ -->
        <!-- SCRIPT TELEPROMPTER PANEL (Collapsible) -->
        <!-- ================================================================ -->
        <aside class="script-panel" id="scriptPanel">
            <div class="script-panel-header">
                <h3>üìú Script</h3>
                <div class="script-controls">
                    <button class="script-btn" id="prevScriptBtn" title="Previous Script">‚óÄ</button>
                    <span id="scriptCounter">1 / 10</span>
                    <button class="script-btn" id="nextScriptBtn" title="Next Script">‚ñ∂</button>
                    <button class="script-btn" id="toggleScriptBtn" title="Hide Script">‚úï</button>
                </div>
            </div>
            <div class="script-selector">
                <select id="scriptCategory">
                    <option value="monologues">üé≠ Monologues</option>
                    <option value="scenes">üë• Two-Person Scenes</option>
                    <option value="audition">üé¨ Audition Sides</option>
                    <option value="commercial">üì∫ Commercials</option>
                    <option value="shakespeare">üìö Shakespeare</option>
                </select>
                <select id="scriptIntensity">
                    <option value="intimate">ü§´ Intimate</option>
                    <option value="neutral">üòê Neutral</option>
                    <option value="heightened">üò¢ Heightened</option>
                    <option value="intense">üò§ Intense</option>
                </select>
            </div>
            <div class="script-info">
                <h4 id="scriptTitle">The Letter</h4>
                <p id="scriptContext">A person reading a letter from someone they've lost</p>
            </div>
            <div class="script-content" id="scriptContent">
                <!-- Script text will be loaded here -->
            </div>
            <div class="script-tips">
                <h5>üí° Director's Tips</h5>
                <ul id="scriptTips">
                    <!-- Tips will be loaded here -->
                </ul>
            </div>
        </aside>

        <button class="show-script-btn" id="showScriptBtn" title="Show Script Panel">
            üìú Script
        </button>

        <!-- ================================================================ -->
        <!-- TAB 1: REAL-TIME FEEDBACK (Actor's Coach) -->
        <!-- ================================================================ -->
        <main class="tab-content active" id="tab-realtime">
            <div class="realtime-layout">
                <!-- Left Column: Video + Controls -->
                <section class="video-section">
                    <div class="section-header">
                        <span class="section-icon">üé¨</span>
                        <span>Live Rehearsal</span>
                        <div class="mode-selector" id="modeSelector">
                            <button class="mode-badge" id="modeBadge">
                                <span class="mode-icon">üé¨</span>
                                <span class="mode-name">Free Practice</span>
                                <span class="mode-arrow">‚ñº</span>
                            </button>
                            <div class="mode-dropdown hidden" id="modeDropdown">
                                <div class="mode-option active" data-mode="free_practice">
                                    <span class="opt-icon">üé¨</span>
                                    <div class="opt-info">
                                        <span class="opt-name">Free Practice</span>
                                        <span class="opt-desc">Open rehearsal mode</span>
                                    </div>
                                </div>
                                <div class="mode-option" data-mode="monologue">
                                    <span class="opt-icon">üé§</span>
                                    <div class="opt-info">
                                        <span class="opt-name">Monologue</span>
                                        <span class="opt-desc">Solo piece practice</span>
                                    </div>
                                </div>
                                <div class="mode-option" data-mode="self_tape">
                                    <span class="opt-icon">üìπ</span>
                                    <div class="opt-info">
                                        <span class="opt-name">Self-Tape Prep</span>
                                        <span class="opt-desc">Audition preparation</span>
                                    </div>
                                </div>
                                <div class="mode-option" data-mode="cold_read">
                                    <span class="opt-icon">üìÑ</span>
                                    <div class="opt-info">
                                        <span class="opt-name">Cold Read</span>
                                        <span class="opt-desc">First time with material</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <video id="videoPreview" autoplay muted playsinline></video>
                        <canvas id="videoCanvas" class="hidden"></canvas>
                        
                        <!-- Video overlays -->
                        <div class="video-overlay">
                            <div class="indicator face-indicator" id="faceIndicator">
                                <span class="indicator-icon">üë§</span>
                                <span class="indicator-text">No face detected</span>
                            </div>
                            <div class="indicator gaze-indicator" id="gazeIndicator">
                                <span class="indicator-icon">üëÅ</span>
                                <span class="indicator-text">Looking away</span>
                            </div>
                        </div>
                        
                        <!-- Speaking indicator -->
                        <div class="speaking-indicator" id="speakingIndicator">
                            <div class="speaking-bars">
                                <span></span><span></span><span></span><span></span><span></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Session Controls -->
                    <div class="session-controls">
                        <button id="startBtn" class="btn btn-primary btn-large">
                            <span class="btn-icon">‚ñ∂</span>
                            Begin Rehearsal
                        </button>
                        <button id="stopBtn" class="btn btn-danger btn-large hidden">
                            <span class="btn-icon">‚èπ</span>
                            End Session
                        </button>
                    </div>
                    
                    <!-- Scene Intensity Selector -->
                    <div class="intensity-selector">
                        <span class="intensity-label">Scene Intensity:</span>
                        <div class="intensity-options">
                            <button class="intensity-btn" data-intensity="intimate" title="Quiet, intimate moments">ü§´</button>
                            <button class="intensity-btn active" data-intensity="neutral" title="Normal conversation">üòê</button>
                            <button class="intensity-btn" data-intensity="heightened" title="Emotional scenes">üò¢</button>
                            <button class="intensity-btn" data-intensity="intense" title="Arguments, confrontations">üò§</button>
                        </div>
                    </div>
                    
                    <!-- Quick Tips -->
                    <div class="quick-tips">
                        <div class="tip-header">
                            <span class="tip-icon">üí°</span>
                            <span>Director's Notes</span>
                        </div>
                        <div class="tips-list" id="tipsList">
                            <div class="tip tip-info">
                                <span class="tip-icon">üé¨</span>
                                <span class="tip-text">Ready when you are. Click "Begin Rehearsal" to start.</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Right Column: Metrics + Transcript -->
                <section class="metrics-section">
                    <!-- Overall Score -->
                    <div class="overall-score-card">
                        <h2>Performance</h2>
                        <div class="score-display">
                            <div class="score-ring">
                                <svg viewBox="0 0 100 100">
                                    <circle class="ring-bg" cx="50" cy="50" r="45"/>
                                    <circle class="ring-progress" id="overallProgress" cx="50" cy="50" r="45" 
                                            stroke-dasharray="283" stroke-dashoffset="141"/>
                                </svg>
                                <div class="score-value">
                                    <span class="score-number" id="overallScore">50</span>
                                    <span class="score-label">Overall</span>
                                </div>
                            </div>
                            <div class="trend-indicator" id="trendIndicator">
                                <span class="trend-arrow">‚Üí</span>
                                <span class="trend-text">Stable</span>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Metrics -->
                    <div class="metrics-grid">
                        <!-- Delivery -->
                        <div class="metric-card delivery">
                            <div class="metric-header">
                                <span class="metric-icon">üó£Ô∏è</span>
                                <span class="metric-title">Delivery</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Pace</span>
                                <div class="item-bar"><div class="bar-fill" id="paceBar"></div></div>
                                <span class="item-value" id="paceValue">--</span>
                                <span class="item-detail" id="paceDetail">-- WPM</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Pauses</span>
                                <div class="item-bar"><div class="bar-fill" id="pauseBar"></div></div>
                                <span class="item-value" id="pauseValue">--</span>
                            </div>
                        </div>
                        
                        <!-- Vocal -->
                        <div class="metric-card vocal">
                            <div class="metric-header">
                                <span class="metric-icon">üéµ</span>
                                <span class="metric-title">Vocal</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Energy</span>
                                <div class="item-bar"><div class="bar-fill" id="energyBar"></div></div>
                                <span class="item-value" id="energyValue">--</span>
                                <span class="item-detail" id="energyDetail">-- dB</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Variety</span>
                                <div class="item-bar"><div class="bar-fill" id="varietyBar"></div></div>
                                <span class="item-value" id="varietyValue">--</span>
                            </div>
                        </div>
                        
                        <!-- Presence -->
                        <div class="metric-card presence">
                            <div class="metric-header">
                                <span class="metric-icon">‚ú®</span>
                                <span class="metric-title">Presence</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Eye Contact</span>
                                <div class="item-bar"><div class="bar-fill" id="eyeContactBar"></div></div>
                                <span class="item-value" id="eyeContactValue">--</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Command</span>
                                <div class="item-bar"><div class="bar-fill" id="presenceBar"></div></div>
                                <span class="item-value" id="presenceValue">--</span>
                            </div>
                        </div>
                        
                        <!-- Technique -->
                        <div class="metric-card technique">
                            <div class="metric-header">
                                <span class="metric-icon">üéØ</span>
                                <span class="metric-title">Technique</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Fillers</span>
                                <div class="item-bar"><div class="bar-fill" id="fillersBar"></div></div>
                                <span class="item-value" id="fillersValue">--</span>
                                <span class="item-detail" id="fillersDetail">0%</span>
                            </div>
                            <div class="metric-item">
                                <span class="item-label">Stability</span>
                                <div class="item-bar"><div class="bar-fill" id="stabilityBar"></div></div>
                                <span class="item-value" id="stabilityValue">--</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Emotion Panel -->
                    <div class="emotion-panel">
                        <div class="emotion-header">
                            <span class="emotion-icon">üé≠</span>
                            <span>Emotional Read</span>
                            <span class="emotion-badge" id="emotionBadge">AI Powered</span>
                        </div>
                        <div class="emotion-grid">
                            <div class="emotion-card voice-emotion">
                                <div class="emotion-card-header">
                                    <span class="card-icon">üéôÔ∏è</span>
                                    <span class="card-title">Voice</span>
                                </div>
                                <div class="emotion-display" id="audioEmotion">üòê neutral</div>
                                <div class="emotion-meter">
                                    <span class="meter-label">Arousal</span>
                                    <div class="meter-bar"><div class="meter-fill" id="arousalBar"></div></div>
                                </div>
                            </div>
                            
                            <div class="emotion-card face-emotion">
                                <div class="emotion-card-header">
                                    <span class="card-icon">üë§</span>
                                    <span class="card-title">Expression</span>
                                </div>
                                <div class="emotion-display" id="faceEmotion">üòê neutral</div>
                                <div class="emotion-meter">
                                    <span class="meter-label">Expressiveness</span>
                                    <div class="meter-bar"><div class="meter-fill" id="expressivenessBar"></div></div>
                                </div>
                            </div>
                            
                            <div class="emotion-card text-emotion">
                                <div class="emotion-card-header">
                                    <span class="card-icon">üìù</span>
                                    <span class="card-title">Script Intent</span>
                                </div>
                                <div class="emotion-display" id="textSentiment">‚Äî analyzing...</div>
                                <div class="text-emotions-list" id="textEmotionsList"></div>
                            </div>
                            
                            <div class="emotion-card intensity-card">
                                <div class="emotion-card-header">
                                    <span class="card-icon">‚ö°</span>
                                    <span class="card-title">Intensity</span>
                                </div>
                                <div class="intensity-display">
                                    <div class="intensity-bar-container">
                                        <div class="emotion-intensity-bar" id="emotionIntensity"></div>
                                    </div>
                                    <span class="intensity-label" id="intensityLabel">Moderate</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Transcript -->
                    <div class="transcript-card">
                        <div class="transcript-header">
                            <span class="transcript-icon">üìù</span>
                            <span>Live Transcript</span>
                            <span class="word-count" id="wordCount">0 words</span>
                        </div>
                        <div class="transcript-box" id="transcriptBox">
                            <p class="transcript-placeholder">Your performance will be transcribed here in real-time...</p>
                        </div>
                    </div>

                    <!-- Director's Analysis Panel -->
                    <div class="analysis-panel" id="analysisPanel">
                        <div class="analysis-header">
                            <h3>üé¨ Director's Analysis</h3>
                            <div class="analysis-tabs">
                                <button class="analysis-tab active" data-analysis="comparison">üìä Script Comparison</button>
                                <button class="analysis-tab" data-analysis="grammar">‚úçÔ∏è Grammar</button>
                                <button class="analysis-tab" data-analysis="fillers">üìà Filler Words</button>
                                <button class="analysis-tab" data-analysis="metrics">üéØ Pro Metrics</button>
                            </div>
                        </div>

                        <!-- Script Comparison Tab -->
                        <div class="analysis-content active" id="analysisComparison">
                            <div class="comparison-stats">
                                <div class="comp-stat">
                                    <span class="comp-value" id="accuracyScore">--%</span>
                                    <span class="comp-label">Accuracy</span>
                                </div>
                                <div class="comp-stat">
                                    <span class="comp-value" id="missedWords">--</span>
                                    <span class="comp-label">Missed Words</span>
                                </div>
                                <div class="comp-stat">
                                    <span class="comp-value" id="addedWords">--</span>
                                    <span class="comp-label">Added/Improvised</span>
                                </div>
                                <div class="comp-stat">
                                    <span class="comp-value" id="wordOrderScore">--%</span>
                                    <span class="comp-label">Word Order</span>
                                </div>
                            </div>
                            <div class="comparison-view" id="comparisonView">
                                <div class="comparison-legend">
                                    <span class="legend-item"><span class="legend-color correct"></span> Correct</span>
                                    <span class="legend-item"><span class="legend-color missed"></span> Missed</span>
                                    <span class="legend-item"><span class="legend-color added"></span> Added/Improvised</span>
                                    <span class="legend-item"><span class="legend-color wrong"></span> Wrong Word</span>
                                </div>
                                <div class="script-comparison" id="scriptComparisonText">
                                    <p class="comparison-placeholder">Select a script from the panel and start rehearsing to see comparison...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Grammar Analysis Tab -->
                        <div class="analysis-content" id="analysisGrammar">
                            <div class="grammar-stats">
                                <div class="grammar-score">
                                    <span class="score-circle" id="grammarScoreCircle">
                                        <span id="grammarScoreValue">--</span>
                                    </span>
                                    <span class="score-label">Grammar Score</span>
                                </div>
                                <div class="grammar-breakdown">
                                    <div class="grammar-item">
                                        <span class="grammar-icon">üó£Ô∏è</span>
                                        <span class="grammar-name">Pronunciation</span>
                                        <div class="grammar-bar"><div class="grammar-fill" id="pronunciationBar"></div></div>
                                        <span class="grammar-value" id="pronunciationValue">--</span>
                                    </div>
                                    <div class="grammar-item">
                                        <span class="grammar-icon">üìê</span>
                                        <span class="grammar-name">Sentence Structure</span>
                                        <div class="grammar-bar"><div class="grammar-fill" id="structureBar"></div></div>
                                        <span class="grammar-value" id="structureValue">--</span>
                                    </div>
                                    <div class="grammar-item">
                                        <span class="grammar-icon">üéØ</span>
                                        <span class="grammar-name">Word Choice</span>
                                        <div class="grammar-bar"><div class="grammar-fill" id="wordChoiceBar"></div></div>
                                        <span class="grammar-value" id="wordChoiceValue">--</span>
                                    </div>
                                    <div class="grammar-item">
                                        <span class="grammar-icon">‚è±Ô∏è</span>
                                        <span class="grammar-name">Tense Consistency</span>
                                        <div class="grammar-bar"><div class="grammar-fill" id="tenseBar"></div></div>
                                        <span class="grammar-value" id="tenseValue">--</span>
                                    </div>
                                </div>
                            </div>
                            <div class="grammar-issues" id="grammarIssues">
                                <h4>üîç Issues Found</h4>
                                <div class="issues-list" id="issuesList">
                                    <p class="no-issues">No issues detected yet. Start speaking to analyze...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Filler Words Graph Tab -->
                        <div class="analysis-content" id="analysisFillers">
                            <div class="fillers-overview">
                                <div class="filler-total">
                                    <span class="filler-count" id="totalFillerCount">0</span>
                                    <span class="filler-label">Total Fillers</span>
                                </div>
                                <div class="filler-rate">
                                    <span class="filler-count" id="fillerRate">0%</span>
                                    <span class="filler-label">Filler Rate</span>
                                </div>
                                <div class="filler-trend">
                                    <span class="filler-count" id="fillerTrend">‚Üí</span>
                                    <span class="filler-label">Trend</span>
                                </div>
                            </div>
                            <div class="fillers-chart-container">
                                <canvas id="fillersChart" width="400" height="150"></canvas>
                            </div>
                            <div class="fillers-breakdown">
                                <h4>üìä Filler Breakdown</h4>
                                <div class="filler-bars" id="fillerBars">
                                    <!-- Filler bars will be dynamically added -->
                                </div>
                            </div>
                            <div class="fillers-timeline">
                                <h4>‚è±Ô∏è Timeline</h4>
                                <div class="timeline-display" id="fillerTimeline">
                                    <p class="timeline-placeholder">Filler word occurrences will appear here...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Professional Metrics Tab -->
                        <div class="analysis-content" id="analysisMetrics">
                            <div class="pro-metrics-grid">
                                <div class="pro-metric">
                                    <div class="pro-metric-header">
                                        <span class="pro-icon">üé≠</span>
                                        <span class="pro-name">Emotional Arc</span>
                                    </div>
                                    <div class="arc-visualization" id="emotionalArc">
                                        <canvas id="emotionalArcCanvas" width="200" height="60"></canvas>
                                    </div>
                                    <span class="pro-desc">How your emotions evolved during the performance</span>
                                </div>
                                <div class="pro-metric">
                                    <div class="pro-metric-header">
                                        <span class="pro-icon">üéµ</span>
                                        <span class="pro-name">Vocal Variety</span>
                                    </div>
                                    <div class="variety-bars">
                                        <div class="variety-item">
                                            <span>Pitch Range</span>
                                            <div class="variety-bar"><div class="variety-fill" id="pitchRangeBar"></div></div>
                                            <span id="pitchRangeValue">--</span>
                                        </div>
                                        <div class="variety-item">
                                            <span>Volume Dynamics</span>
                                            <div class="variety-bar"><div class="variety-fill" id="volumeDynamicsBar"></div></div>
                                            <span id="volumeDynamicsValue">--</span>
                                        </div>
                                        <div class="variety-item">
                                            <span>Tempo Changes</span>
                                            <div class="variety-bar"><div class="variety-fill" id="tempoChangesBar"></div></div>
                                            <span id="tempoChangesValue">--</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="pro-metric">
                                    <div class="pro-metric-header">
                                        <span class="pro-icon">üëÅÔ∏è</span>
                                        <span class="pro-name">Camera Presence</span>
                                    </div>
                                    <div class="presence-stats">
                                        <div class="presence-item">
                                            <span class="presence-value" id="eyeContactTime">--%</span>
                                            <span class="presence-label">Eye Contact</span>
                                        </div>
                                        <div class="presence-item">
                                            <span class="presence-value" id="framingScore">--</span>
                                            <span class="presence-label">Framing</span>
                                        </div>
                                        <div class="presence-item">
                                            <span class="presence-value" id="movementScore">--</span>
                                            <span class="presence-label">Stillness</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="pro-metric">
                                    <div class="pro-metric-header">
                                        <span class="pro-icon">‚ö°</span>
                                        <span class="pro-name">Energy Distribution</span>
                                    </div>
                                    <div class="energy-graph">
                                        <canvas id="energyGraphCanvas" width="200" height="60"></canvas>
                                    </div>
                                    <div class="energy-stats">
                                        <span>Avg: <strong id="avgEnergy">--</strong></span>
                                        <span>Peak: <strong id="peakEnergy">--</strong></span>
                                        <span>Low: <strong id="lowEnergy">--</strong></span>
                                    </div>
                                </div>
                                <div class="pro-metric">
                                    <div class="pro-metric-header">
                                        <span class="pro-icon">‚è∏Ô∏è</span>
                                        <span class="pro-name">Pause Analysis</span>
                                    </div>
                                    <div class="pause-stats">
                                        <div class="pause-item">
                                            <span class="pause-value" id="totalPauses">--</span>
                                            <span class="pause-label">Total Pauses</span>
                                        </div>
                                        <div class="pause-item">
                                            <span class="pause-value" id="avgPauseDuration">--s</span>
                                            <span class="pause-label">Avg Duration</span>
                                        </div>
                                        <div class="pause-item">
                                            <span class="pause-value" id="dramaticPauses">--</span>
                                            <span class="pause-label">Dramatic</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="pro-metric">
                                    <div class="pro-metric-header">
                                        <span class="pro-icon">üé¨</span>
                                        <span class="pro-name">Take Quality</span>
                                    </div>
                                    <div class="take-quality">
                                        <div class="quality-meter">
                                            <div class="quality-fill" id="takeQualityFill"></div>
                                        </div>
                                        <div class="quality-verdict" id="takeQualityVerdict">
                                            Waiting for performance...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- ================================================================ -->
        <!-- TAB 2: SELF-TAPE STUDIO -->
        <!-- ================================================================ -->
        <main class="tab-content" id="tab-selftape">
            <div class="selftape-layout">
                <!-- Hero Section -->
                <div class="selftape-hero">
                    <div class="hero-content">
                        <h2>üìπ Self-Tape Studio</h2>
                        <p>Your complete self-taping and rehearsal assistant. Record, review, and perfect your performance.</p>
                    </div>
                </div>
                
                <!-- Recording Section -->
                <div class="selftape-main">
                    <div class="recording-panel">
                        <div class="recording-preview">
                            <video id="selftapePreview" autoplay muted playsinline></video>
                            <canvas id="selftapeCanvas" class="hidden"></canvas>
                            
                            <!-- Recording indicator -->
                            <div class="recording-indicator hidden" id="recordingIndicator">
                                <span class="rec-dot"></span>
                                <span class="rec-text">REC</span>
                                <span class="rec-time" id="recTime">00:00</span>
                            </div>
                            
                            <!-- Framing guide -->
                            <div class="framing-guide" id="framingGuide">
                                <div class="guide-box"></div>
                                <span class="guide-tip">Frame yourself in the center</span>
                            </div>
                        </div>
                        
                        <div class="recording-controls">
                            <button id="selftapeRecordBtn" class="btn btn-record btn-large">
                                <span class="btn-icon">‚è∫</span>
                                Start Recording
                            </button>
                            <button id="selftapeStopBtn" class="btn btn-danger btn-large hidden">
                                <span class="btn-icon">‚èπ</span>
                                Stop Recording
                            </button>
                        </div>
                        
                        <!-- Quick Settings -->
                        <div class="recording-settings">
                            <div class="setting-item">
                                <span class="setting-label">Quality:</span>
                                <select id="recordingQuality">
                                    <option value="720p">720p (Standard)</option>
                                    <option value="1080p" selected>1080p (HD)</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <span class="setting-label">Reader Voice:</span>
                                <select id="readerVoice">
                                    <option value="none">None (Solo)</option>
                                    <option value="male">Male Reader</option>
                                    <option value="female">Female Reader</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Script/Lines Panel -->
                    <div class="script-panel">
                        <div class="script-header">
                            <span class="script-icon">üìÑ</span>
                            <span>Your Lines</span>
                            <button class="btn btn-small btn-secondary" id="loadScriptBtn">Load Script</button>
                        </div>
                        <div class="script-content">
                            <textarea id="scriptInput" placeholder="Paste your sides/script here...

Example:
SARAH: I can't believe you said that.
[BEAT]
JOHN: I didn't mean it that way.
SARAH: Then what did you mean?"></textarea>
                        </div>
                        <div class="script-tools">
                            <button class="tool-btn" id="highlightLinesBtn" title="Highlight your lines">
                                <span>üéØ</span> My Lines
                            </button>
                            <button class="tool-btn" id="clearScriptBtn" title="Clear script">
                                <span>üóëÔ∏è</span> Clear
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Recorded Takes -->
                <div class="takes-section">
                    <div class="takes-header">
                        <h3>üìº Your Takes</h3>
                        <span class="takes-count" id="takesCount">0 recordings</span>
                    </div>
                    <div class="takes-grid" id="takesGrid">
                        <div class="empty-takes">
                            <span class="empty-icon">üé¨</span>
                            <p>No recordings yet. Start your first take!</p>
                        </div>
                    </div>
                </div>
                
                <!-- Analysis Section (shown after recording) -->
                <div class="analysis-section hidden" id="analysisSection">
                    <div class="analysis-header">
                        <h3>üìä Take Analysis</h3>
                        <button class="btn btn-small btn-primary" id="analyzeBtn">Analyze Take</button>
                    </div>
                    <div class="analysis-content" id="analysisContent">
                        <!-- Will be populated with analysis results -->
                    </div>
                </div>
            </div>
        </main>

        <!-- ================================================================ -->
        <!-- TAB 3: SESSION HISTORY -->
        <!-- ================================================================ -->
        <main class="tab-content" id="tab-history">
            <div class="history-layout">
                <!-- Hero Section with Stats -->
                <div class="history-hero">
                    <div class="hero-stats">
                        <div class="stat-card">
                            <span class="stat-value" id="totalSessions">0</span>
                            <span class="stat-label">Total Sessions</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="totalTime">0:00</span>
                            <span class="stat-label">Practice Time</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="avgScore">--</span>
                            <span class="stat-label">Avg Score</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="improvement">--</span>
                            <span class="stat-label">Improvement</span>
                        </div>
                    </div>
                </div>

                <!-- Progress Chart -->
                <div class="progress-section">
                    <div class="section-title">
                        <span class="title-icon">üìà</span>
                        <h2>Your Progress</h2>
                        <div class="chart-filters">
                            <button class="filter-btn active" data-range="week">Week</button>
                            <button class="filter-btn" data-range="month">Month</button>
                            <button class="filter-btn" data-range="all">All Time</button>
                        </div>
                    </div>
                    <div class="progress-chart" id="progressChart">
                        <canvas id="progressCanvas"></canvas>
                        <div class="chart-placeholder" id="chartPlaceholder">
                            <span class="placeholder-icon">üìä</span>
                            <p>Complete a few sessions to see your progress chart!</p>
                        </div>
                    </div>
                </div>

                <!-- Session List -->
                <div class="sessions-section">
                    <div class="section-title">
                        <span class="title-icon">üé¨</span>
                        <h2>Session History</h2>
                        <div class="session-actions">
                            <button class="btn btn-small btn-secondary" id="exportSessionsBtn">
                                <span>üì•</span> Export All
                            </button>
                            <button class="btn btn-small btn-danger" id="clearSessionsBtn">
                                <span>üóëÔ∏è</span> Clear All
                            </button>
                        </div>
                    </div>
                    
                    <div class="sessions-grid" id="sessionsGrid">
                        <!-- Sessions will be populated here -->
                        <div class="empty-sessions" id="emptySessions">
                            <span class="empty-icon">üé≠</span>
                            <h3>No Sessions Yet</h3>
                            <p>Start a rehearsal session to see your performance history here.</p>
                            <button class="btn btn-primary" onclick="document.querySelector('[data-tab=realtime]').click()">
                                <span class="btn-icon">‚ñ∂</span>
                                Start First Session
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Session Detail Modal -->
        <div class="modal hidden" id="sessionDetailModal">
            <div class="modal-content session-detail-modal">
                <div class="modal-header">
                    <h2 id="sessionDetailTitle">üìä Session Analysis</h2>
                    <button class="modal-close" id="closeSessionDetailBtn">&times;</button>
                </div>
                <div class="modal-body" id="sessionDetailContent">
                    <!-- Session Video and Analysis -->
                    <div class="session-detail-layout">
                        <!-- Video Section -->
                        <div class="session-video-section">
                            <div class="video-player-container">
                                <video id="sessionVideo" controls></video>
                                <div class="video-no-recording" id="videoNoRecording">
                                    <span class="no-video-icon">üìπ</span>
                                    <p>No video recorded for this session</p>
                                </div>
                            </div>
                            <div class="video-timeline">
                                <div class="timeline-bar" id="sessionTimeline">
                                    <div class="timeline-markers" id="sessionTimelineMarkers"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Analysis Section -->
                        <div class="session-analysis-section">
                            <!-- Performance Summary -->
                            <div class="analysis-card">
                                <h3>üéØ Performance Summary</h3>
                                <div class="summary-score-large">
                                    <div class="score-circle" id="detailScoreCircle">
                                        <span class="score-number" id="detailScore">--</span>
                                    </div>
                                    <div class="score-breakdown" id="detailBreakdown">
                                        <!-- Score breakdown will be populated -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- AI Director's Report -->
                            <div class="analysis-card director-report">
                                <h3>üé¨ Director's Analysis</h3>
                                <div class="director-content" id="directorReport">
                                    <div class="report-loading">
                                        <span class="loading-spinner">üé¨</span>
                                        <p>Generating analysis...</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Live Notes from Session -->
                            <div class="analysis-card">
                                <h3>üìù Session Notes</h3>
                                <div class="session-notes-list" id="sessionNotesList">
                                    <!-- Notes will be populated -->
                                </div>
                            </div>
                            
                            <!-- Transcript -->
                            <div class="analysis-card">
                                <h3>üìú Transcript</h3>
                                <div class="session-transcript" id="sessionTranscript">
                                    <!-- Transcript will be populated -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" id="deleteSessionBtn">
                        <span class="btn-icon">üóëÔ∏è</span> Delete Session
                    </button>
                    <button class="btn btn-secondary" id="downloadSessionBtn">
                        <span class="btn-icon">üì•</span> Download
                    </button>
                    <button class="btn btn-primary" id="reanalyzeSessionBtn">
                        <span class="btn-icon">üîÑ</span> Re-Analyze
                    </button>
                </div>
            </div>
        </div>

        <!-- ================================================================ -->
        <!-- TAB 4: OTHER COACHES -->
        <!-- ================================================================ -->
        <main class="tab-content" id="tab-coaches">
            <div class="coaches-layout">
                <!-- Hero Section with Value Proposition -->
                <div class="coaches-hero">
                    <h2>üèÜ Fix Your Life. Choose Your Coach.</h2>
                    <p class="hero-tagline">The same powerful AI technology, tailored for different disciplines.</p>
                    <div class="value-banner">
                        <div class="value-icon">üí∞</div>
                        <div class="value-content">
                            <h4>Incredible Value</h4>
                            <p>People usually pay <strong>$300 - $500 per session</strong> for professional coaching.</p>
                            <p class="value-highlight">With Scivora, get <strong>UNLIMITED sessions</strong> for just <strong>$500/month</strong> per coach!</p>
                        </div>
                    </div>
                </div>
                
                <!-- Active Coach - Acting -->
                <div class="coach-section">
                    <h3 class="section-title">üé≠ Currently Active</h3>
                    <div class="coaches-grid">
                        <div class="coach-card active" data-coach="acting">
                            <div class="coach-badge active-badge">ACTIVE</div>
                            <div class="coach-icon">üé≠</div>
                            <h3>Acting Coach</h3>
                            <p>Real-time feedback on delivery, emotion, presence, and technique for actors.</p>
                            <div class="coach-features">
                                <span class="feature">Emotional Analysis</span>
                                <span class="feature">Voice Coaching</span>
                                <span class="feature">Script Practice</span>
                                <span class="feature">Director Feedback</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Was: $400/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-primary btn-coach" onclick="switchTab('realtime')">Start Training</button>
                        </div>
                    </div>
                </div>

                <!-- Life & Relationships Section -->
                <div class="coach-section">
                    <h3 class="section-title">üíù Life & Relationships</h3>
                    <div class="coaches-grid">
                        <!-- Interview Prep Coach -->
                        <div class="coach-card coming-soon" data-coach="interview">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üíº</div>
                            <h3>Interview Prep Coach</h3>
                            <p>Ace your job interviews with AI-powered feedback on answers, body language, and confidence.</p>
                            <div class="coach-features">
                                <span class="feature">Answer Analysis</span>
                                <span class="feature">STAR Method</span>
                                <span class="feature">Confidence Scoring</span>
                                <span class="feature">Mock Interviews</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $300/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="interview">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Family & Marriage Coach -->
                        <div class="coach-card coming-soon" data-coach="family">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                            <h3>Family & Marriage Coach</h3>
                            <p>Improve communication, resolve conflicts, and strengthen relationships with AI guidance.</p>
                            <div class="coach-features">
                                <span class="feature">Communication Skills</span>
                                <span class="feature">Conflict Resolution</span>
                                <span class="feature">Active Listening</span>
                                <span class="feature">Empathy Training</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $400/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="family">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Life Coach -->
                        <div class="coach-card coming-soon" data-coach="life">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üåü</div>
                            <h3>Life Coach</h3>
                            <p>Build confidence, set goals, and transform your life with personalized AI coaching.</p>
                            <div class="coach-features">
                                <span class="feature">Goal Setting</span>
                                <span class="feature">Mindset Coaching</span>
                                <span class="feature">Accountability</span>
                                <span class="feature">Progress Tracking</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $350/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="life">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Presentation Coach -->
                        <div class="coach-card coming-soon" data-coach="presentation">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üìä</div>
                            <h3>Presentation Coach</h3>
                            <p>Master public speaking, pitches, and business presentations with AI analysis.</p>
                            <div class="coach-features">
                                <span class="feature">Speech Pacing</span>
                                <span class="feature">Slide Timing</span>
                                <span class="feature">Audience Engagement</span>
                                <span class="feature">Q&A Prep</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $500/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="presentation">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Fitness & Wellness Section -->
                <div class="coach-section">
                    <h3 class="section-title">üí™ Fitness & Wellness</h3>
                    <div class="coaches-grid">
                        <!-- Yoga Coach -->
                        <div class="coach-card coming-soon" data-coach="yoga">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üßò</div>
                            <h3>Yoga Coach</h3>
                            <p>Perfect your poses, alignment, and breathing with real-time AI feedback.</p>
                            <div class="coach-features">
                                <span class="feature">Pose Correction</span>
                                <span class="feature">Alignment Check</span>
                                <span class="feature">Breathing Guide</span>
                                <span class="feature">Flow Sequences</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $150/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="yoga">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Martial Arts Coach -->
                        <div class="coach-card coming-soon" data-coach="martial">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">ü•ã</div>
                            <h3>Martial Arts Coach</h3>
                            <p>Master technique, form, and movement patterns for any martial art style.</p>
                            <div class="coach-features">
                                <span class="feature">Form Analysis</span>
                                <span class="feature">Strike Technique</span>
                                <span class="feature">Stance Check</span>
                                <span class="feature">Speed Training</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $200/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="martial">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Gym Coach -->
                        <div class="coach-card coming-soon" data-coach="gym">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üèãÔ∏è</div>
                            <h3>Gym Coach</h3>
                            <p>Real-time form correction for exercises, weightlifting, and strength training.</p>
                            <div class="coach-features">
                                <span class="feature">Rep Counting</span>
                                <span class="feature">Form Check</span>
                                <span class="feature">Range of Motion</span>
                                <span class="feature">Workout Plans</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $100/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="gym">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Swim Coach -->
                        <div class="coach-card coming-soon" data-coach="swim">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üèä</div>
                            <h3>Swim Coach</h3>
                            <p>Analyze stroke technique, body position, and breathing patterns in the water.</p>
                            <div class="coach-features">
                                <span class="feature">Stroke Analysis</span>
                                <span class="feature">Lap Timing</span>
                                <span class="feature">Form Feedback</span>
                                <span class="feature">Endurance Tips</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $150/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="swim">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Creative & Performance Section -->
                <div class="coach-section">
                    <h3 class="section-title">üé® Creative & Performance</h3>
                    <div class="coaches-grid">
                        <!-- Dance Coach -->
                        <div class="coach-card coming-soon" data-coach="dance">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üíÉ</div>
                            <h3>Dance Coach</h3>
                            <p>Perfect your posture, alignment, rhythm, and movement quality for any dance style.</p>
                            <div class="coach-features">
                                <span class="feature">Posture Analysis</span>
                                <span class="feature">Rhythm Tracking</span>
                                <span class="feature">Movement Flow</span>
                                <span class="feature">Choreography</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $200/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="dance">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>

                        <!-- Music Coach -->
                        <div class="coach-card coming-soon" data-coach="music">
                            <div class="coach-badge">COMING SOON</div>
                            <div class="coach-icon">üé∏</div>
                            <h3>Music Coach</h3>
                            <p>Improve your instrument technique, posture, and performance presence.</p>
                            <div class="coach-features">
                                <span class="feature">Posture Check</span>
                                <span class="feature">Hand Position</span>
                                <span class="feature">Stage Presence</span>
                                <span class="feature">Practice Plans</span>
                            </div>
                            <div class="coach-pricing">
                                <span class="price-compare">Usually: $150/session</span>
                                <span class="price-now">$500<span class="price-period">/month</span></span>
                                <span class="price-value">Unlimited Sessions</span>
                            </div>
                            <button class="btn btn-subscribe btn-coach" data-coach="music">
                                <span>üîî</span> Notify Me
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Subscribe All Banner -->
                <div class="subscribe-all-banner">
                    <div class="banner-glow"></div>
                    <div class="banner-content">
                        <h3>üåü Get All Coaches - One Subscription</h3>
                        <p>Access every coach, every feature, unlimited sessions</p>
                        <div class="all-access-pricing">
                            <span class="all-price">$1,999<span>/month</span></span>
                            <span class="all-savings">Save $4,000+ compared to individual subscriptions</span>
                        </div>
                        <button class="btn btn-subscribe-all">
                            <span>‚ú®</span> Subscribe to All - Coming Soon
                        </button>
                    </div>
                </div>

                <!-- Notify Modal -->
                <div class="notify-modal hidden" id="notifyModal">
                    <div class="notify-modal-content">
                        <button class="notify-close" onclick="closeNotifyModal()">&times;</button>
                        <div class="notify-icon" id="notifyModalIcon">üîî</div>
                        <h3 id="notifyModalTitle">Get Notified</h3>
                        <p id="notifyModalDesc">Be the first to know when this coach launches!</p>
                        <input type="email" id="notifyEmail" placeholder="Enter your email" class="notify-input">
                        <button class="btn btn-primary" onclick="submitNotify()">Notify Me</button>
                        <p class="notify-note">We'll never spam. Just one email when it's ready!</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-left">
                <div class="tech-badge">
                    <span class="badge-icon">üß†</span>
                    <span>faster-whisper</span>
                </div>
                <div class="tech-badge">
                    <span class="badge-icon">üëÅ</span>
                    <span>MediaPipe</span>
                </div>
                <div class="tech-badge llm-badge">
                    <span class="badge-icon">ü¶ô</span>
                    <span>Llama 3.2</span>
                </div>
                <div class="tech-badge emotion-badge">
                    <span class="badge-icon">üé≠</span>
                    <span>SpeechBrain</span>
                </div>
                <div class="tech-badge">
                    <span class="badge-icon">‚ö°</span>
                    <span>GPU Accelerated</span>
                </div>
            </div>
            <div class="footer-right">
                <span class="motto">Break a leg! üé≠</span>
            </div>
        </footer>
    </div>

    <!-- Session Summary Modal -->
    <div class="modal hidden" id="summaryModal">
        <div class="modal-content summary-modal">
            <div class="modal-header">
                <h2>üé¨ Session Complete</h2>
                <button class="modal-close" id="closeSummaryBtn">&times;</button>
            </div>
            <div class="modal-body" id="summaryContent">
                <!-- Dynamic summary content -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="newSessionBtn">New Session</button>
                <button class="btn btn-secondary" id="saveSummaryBtn">Save Notes</button>
            </div>
        </div>
    </div>
    
    <!-- Take Playback Modal -->
    <div class="modal hidden" id="playbackModal">
        <div class="modal-content playback-modal">
            <div class="modal-header">
                <h2>üìπ Review Take</h2>
                <button class="modal-close" id="closePlaybackBtn">&times;</button>
            </div>
            <div class="modal-body">
                <video id="playbackVideo" controls></video>
                <div class="playback-analysis" id="playbackAnalysis">
                    <!-- Analysis results -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="deleteTakeBtn">Delete</button>
                <button class="btn btn-secondary" id="downloadTakeBtn">Download</button>
                <button class="btn btn-primary" id="reanalyzeTakeBtn">Re-Analyze</button>
            </div>
        </div>
    </div>

    <script src="/static/client.js?v=10"></script>
</body>
</html>
